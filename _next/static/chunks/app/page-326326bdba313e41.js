(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1492:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>v});var a=s(5155),t=s(5273),r=s.n(t),n=s(2115);let c=(0,n.createContext)(null);function i(e){let{children:l}=e,[s,t]=(0,n.useState)({tour:"Final World Tour",band:"Slayer",venue:"Hanns-Martin-Schleyer-Halle",address:"Mercedesstra\xdfe 69\n70372 Stuttgart",datetime:new Date("2019-08-03T21:00:00.000Z"),seatType:"standing ticket",barcode:"My Event",price:69,background:null});return(0,a.jsx)(c.Provider,{value:{data:s,setData:e=>t(l=>({...l,...e}))},children:l})}let d=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useTicket must be used inside TicketProvider");return e};var x=s(7883),o=s.n(x);function u(){let{data:e}=d(),l=e.barcode;if(!l)return null;let s=.6,t=11*l.length*s;t<180&&(s=180/(11*l.length),t=11*l.length*s);let r=t>180?180:t;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center overflow-hidden",style:{width:"".concat(r,"px"),maxWidth:"".concat(180,"px")},children:[(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(o(),{value:l,height:30,displayValue:!1,width:s,lineColor:"#000000",background:"",renderer:"svg",className:"-m-2.5"})}),(0,a.jsx)("p",{className:"z-10 text-center text-xs truncate max-w-[180px]",children:l})]})}var h=s(1001),p=s.n(h);function m(){let{data:e}=d();return(0,a.jsxs)("div",{id:"ticket",className:"shadow-lg w-[760px] h-[300px] flex flex-col text-white text-[15px] ".concat(r().className),children:[(0,a.jsx)("div",{className:" bg-orange-400 h-[3rem] font-bold p-1 flex items-center",children:"Some Brand"}),(0,a.jsxs)("div",{className:"p-2 flex flex-1",children:[(0,a.jsx)("div",{className:"w-[75px] flex items-center justify-center",children:e.barcode&&(0,a.jsx)("div",{className:"rotate-270 text-black flex flex-col items-center w-[180px] over",children:(0,a.jsx)(u,{})})}),(0,a.jsxs)("div",{className:"relative px-1 flex flex-1 flex-col  h-full text-white bg-gray-800 text-[4mm]",children:[e.background&&(0,a.jsx)("img",{src:e.background,className:"absolute top-[2px] bottom-[2px] left-1/2 -translate-x-1/2 h-[calc(100%-4px)] object-cover"}),(0,a.jsxs)("div",{className:"z-10 flex flex-col h-full justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[2mm]",children:e.tour}),(0,a.jsx)("p",{children:e.band})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:e.venue}),(0,a.jsx)("p",{className:"whitespace-pre-line text-[2mm]",children:e.address})]}),(0,a.jsxs)("p",{children:[p()(e.datetime).format("dddd, DD. MMM YYYY, HH:mm")," Uhr"]}),(0,a.jsxs)("p",{children:[e.price.toFixed(2)," EUR"]}),(0,a.jsx)("p",{children:e.seatType})]})]})]})]})}var j=s(740),f=s(7088);function b(e){let{ticketCount:l,setTicketCount:s}=e,{data:t,setData:r}=d();return(0,a.jsxs)("div",{className:"bg-gray-200 border-l p-4 h-full flex flex-col text-black space-y-2 overflow-y-auto",children:[(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Tour"}),(0,a.jsx)("input",{type:"text",value:t.tour,onChange:e=>r({tour:e.target.value}),className:"border p-1"})]}),(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Band"}),(0,a.jsx)("input",{type:"text",value:t.band,onChange:e=>r({band:e.target.value}),className:"border p-1"})]}),(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Venue"}),(0,a.jsx)("input",{type:"text",value:t.venue,onChange:e=>r({venue:e.target.value}),className:"border p-1"})]}),(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Address"}),(0,a.jsx)("textarea",{rows:2,value:t.address,onChange:e=>r({address:e.target.value}),className:"border p-1 resize-none"})]}),(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Time"}),(0,a.jsx)(j.Ay,{className:"border p-1",showTimeInput:!0,selected:t.datetime,onChange:e=>r({datetime:e})})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Price"}),(0,a.jsx)("input",{type:"number",step:"0.1",value:t.price,onChange:e=>r({price:Number(e.target.value)}),className:"w-full border p-1 rounded"})]}),(0,a.jsxs)("label",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:"Area"}),(0,a.jsx)("input",{type:"text",value:t.seatType,onChange:e=>r({seatType:e.target.value}),className:"border p-1 rounded"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Barcode"}),(0,a.jsx)("input",{type:"text",value:t.barcode||"",onChange:e=>r({barcode:e.target.value}),className:"w-full border p-1 rounded"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Background"}),(0,a.jsx)("input",{type:"file",onChange:e=>{e&&r({background:URL.createObjectURL(e.target.files[0])})},className:"w-full border p-1 rounded"})]}),(0,a.jsxs)("div",{className:"mt-auto p-2 flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Tickets per page"}),(0,a.jsxs)("select",{value:l,onChange:e=>s(Number(e.target.value)),className:"border p-1 rounded",children:[(0,a.jsx)("option",{value:1,children:"1"}),(0,a.jsx)("option",{value:2,children:"2"}),(0,a.jsx)("option",{value:3,children:"3"})]}),(0,a.jsxs)("button",{onClick:()=>window.print(),className:"mt-auto flex items-center justify-center p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Print"]})]})]})}function v(){let[e,l]=(0,n.useState)(1);return(0,a.jsxs)(i,{children:[(0,a.jsx)("div",{id:"print-wrapper",className:"h-screen hidden print:flex flex-col justify-between",children:Array.from({length:e}).map((e,l)=>(0,a.jsx)("div",{className:"print-ticket",children:(0,a.jsx)(m,{})},l))}),(0,a.jsxs)("div",{className:"flex h-screen print:hidden",children:[(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-100 px-4",children:(0,a.jsx)(m,{})}),(0,a.jsx)("div",{className:"min-w-[300px]",children:(0,a.jsx)(b,{ticketCount:e,setTicketCount:l})})]})]})}},6765:(e,l,s)=>{Promise.resolve().then(s.bind(s,1492))}},e=>{e.O(0,[869,545,579,586,134,441,255,358],()=>e(e.s=6765)),_N_E=e.O()}]);